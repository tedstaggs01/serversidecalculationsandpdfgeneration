<!DOCTYPE html>
<html>
<head>
    <title>PDF Creation with Express</title>
</head>
<body>
    <button id="createPdfButton">Create PDF</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const createPdfButton = document.getElementById('createPdfButton');
    
        createPdfButton.addEventListener('click', async function() {
            try {
                const response = await fetch('/create-pdf', { method: 'GET' });
                if (response.ok) {
                    const blob = await response.blob();
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = 'loadsheet.pdf';
                    link.click();
                } else {
                    console.error('Failed to create PDF');
                }
            } catch (error) {
                console.error('An error occurred:', error);
            }
        });
    });
    </script>
    
</body>
</html>
